# ADO Coolify Deployment - Environment Variables
# Copy this file to .env and fill in your values

# ==============================================================================
# Database
# ==============================================================================
POSTGRES_PASSWORD=<generate-random-password>

# ==============================================================================
# Authentication & Security
# ==============================================================================
# JWT secret for API authentication (generate with: openssl rand -hex 32)
JWT_SECRET=<generate-random-secret>

# ADO API key for worker authentication (generate with: openssl rand -hex 32)
ADO_API_KEY=ado_<generate-random-key>

# Session secret (generate with: openssl rand -hex 32)
SESSION_SECRET=<generate-random-secret>

# ==============================================================================
# AI Provider API Keys
# ==============================================================================
# Anthropic (Claude)
ANTHROPIC_API_KEY=sk-ant-api03-...
# Or use session token for subscription mode (Claude MAX)
ANTHROPIC_SESSION_TOKEN=sk-ant-sid...

# Google (Gemini)
GOOGLE_API_KEY=AIza...

# OpenAI (GPT)
OPENAI_API_KEY=sk-...

# ==============================================================================
# Worker Configuration
# ==============================================================================
# Worker mode: subscription (use Claude MAX/Pro) or api (pay-per-token)
WORKER_MODE=subscription

# Number of worker replicas
WORKER_CLAUDE_REPLICAS=3
WORKER_GEMINI_REPLICAS=0

# Max concurrent tasks per worker
WORKER_MAX_TASKS=3

# Task timeout (seconds)
WORKER_TIMEOUT=3600

# ==============================================================================
# Git Configuration
# ==============================================================================
GIT_USER_NAME=ADO Worker
GIT_USER_EMAIL=ado@yourcompany.com

# Path to SSH key for private repos (optional)
SSH_KEY_PATH=./ssh

# ==============================================================================
# Dashboard
# ==============================================================================
# Public URL for dashboard
DASHBOARD_API_URL=https://ado.yourcompany.com
DASHBOARD_WS_URL=wss://ado.yourcompany.com

# ==============================================================================
# Observability (Optional)
# ==============================================================================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Enable distributed tracing
ENABLE_TRACING=false

# OpenTelemetry endpoint (if using external collector)
OTEL_EXPORTER_OTLP_ENDPOINT=

# ==============================================================================
# Security
# ==============================================================================
# CORS origin (* for development, specific domain for production)
CORS_ORIGIN=https://yourcompany.com

# Rate limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=60000

# ==============================================================================
# Backup (Optional)
# ==============================================================================
# Backup schedule (cron format or @daily, @weekly, @monthly)
BACKUP_SCHEDULE=@daily

# Backup retention
BACKUP_KEEP_DAYS=7
BACKUP_KEEP_WEEKS=4
BACKUP_KEEP_MONTHS=6
